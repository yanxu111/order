<<<<<<< HEAD
{"version":3,"sources":[null,"webpack:///E:/gitchat/firstdec/ordering-app/components/goods/goods.vue?9e15","webpack:///E:/gitchat/firstdec/ordering-app/components/goods/goods.vue?ced4","webpack:///E:/gitchat/firstdec/ordering-app/components/goods/goods.vue?b768","uni-app:///components/goods/goods.vue","webpack:///E:/gitchat/firstdec/ordering-app/components/goods/goods.vue?7488","webpack:///E:/gitchat/firstdec/ordering-app/components/goods/goods.vue?b752"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACqC;;;AAGzF;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAA+lB,CAAgB,ynBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoHnnB,gD;;;;AAIA;AACA,yBADA;AAEA,MAFA,kBAEA;AACA;AACA,uBADA,EACA;AACA,mBAFA,EAEA;AACA,mBAHA,EAGA;AACA,wBAJA,EAIA;AACA,0BALA,CAKA;AALA;AAOA,GAVA;AAWA;AACA;AACA;AACA,mBADA;AAEA,oBAFA,EAFA;;AAMA;AACA;AACA,kBADA;AAEA,iBAFA,EAPA;;AAWA;AACA;AACA,kBADA;AAEA,iBAFA,EAZA;;AAgBA;AACA;AACA,iBADA;AAEA,+CAFA,EAjBA;;AAqBA;AACA;AACA,iBADA;AAEA,+CAFA,EAtBA;;AA0BA;AACA,kBADA;AAEA,gBAFA,EA1BA,EAXA;;;;AA2CA;AACA,WA5CA,uBA4CA;AACA,sBADA,CACA;AACA;AACA,uBAHA,CAGA;AACA,wBAJA,CAIA;AACA;AACA;AACA;AACA,KAFA,MAEA;AACA;AACA;AACA;AACA;AACA,KAFA,MAEA;AACA;AACA;AACA,gCAhBA,CAgBA;;AAEA,GA9DA;AA+DA;AACA;AACA,oDADA,EACA;AACA,kDAFA,EAEA;AACA,kDAHA,CAGA;AAHA,IADA;AAMA,gBANA,wBAMA,KANA,EAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,EAEA,EAFA;;AAIA;AACA,KAtBA;AAuBA;AACA,oBAxBA,8BAwBA;AACA;AACA;AACA;AACA,mCADA,CACA;AACA,yCAFA,CAEA;AACA,qCAHA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBADA,CAFA,CAGA;AACA;AACA,8DALA,CAKA;AACA,wEANA,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,aArBA,EAqBA,IArBA,GAbA,CAkCA;AACA;AACA,SArCA,EAqCA,IArCA;AAsCA,OA5CA,EA4CA,IA5CA;AA6CA,KAxEA;AAyEA;AACA,eA1EA,uBA0EA,CA1EA,EA0EA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA,CACA,CADA,EACA,QADA,GACA,iCADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCADA;AAEA,oCAFA;AAGA,wBAHA;AAIA,yBAJA;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBADA;AAEA,+BAFA;AAGA,qCAHA;AAIA,kCAJA;;AAMA;AACA;AACA;AACA,KApIA;AAqIA;AACA,yBAtIA,mCAsIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,SATA,EASA,IATA;AAUA,OAdA,EAcA,IAdA;AAeA,KAxJA;AAyJA;AACA,mBA1JA,6BA0JA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA,EAGA,EAHA;AAIA;AACA,KAlKA;AAmKA;AACA,mBApKA,2BAoKA,KApKA,EAoKA,MApKA,EAoKA;AACA;AACA,oBADA;AAEA,sBAFA;;AAIA,KAzKA;AA0KA;AACA,mBA3KA,2BA2KA,CA3KA,EA2KA,GA3KA,EA2KA,OA3KA,EA2KA,SA3KA,EA2KA,KA3KA,EA2KA,MA3KA,EA2KA;AACA;AACA;AACA,oBADA;AAEA,sBAFA;;AAIA,KAjLA;AAkLA;AACA,oBAnLA,4BAmLA,GAnLA,EAmLA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA,oCADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA,KAhMA;AAiMA;AACA,iBAlMA,yBAkMA,GAlMA,EAkMA,OAlMA,EAkMA,QAlMA,EAkMA;AACA;AACA;AACA,KArMA;AAsMA;AACA,aAvMA,qBAuMA,GAvMA,EAuMA,OAvMA,EAuMA,QAvMA,EAuMA;;;AAGA;AACA,KA3MA,GA/DA;;AA4QA;AACA,oBADA,EA5QA;;AA+QA;AACA;AACA;AACA,aAFA,qBAEA,UAFA,EAEA;AACA;AACA,KAJA;AAKA;AACA,cANA,sBAMA,WANA,EAMA;AACA;AACA;;AAEA,KAVA;AAWA,SAXA,mBAWA;AACA;AACA,KAbA;AAcA,aAdA,uBAcA;AACA;AACA;AACA;AACA;AACA;AACA,KApBA,EAhRA,E;;;;;;;;;;;;;ACxHA;AAAA;AAAA;AAAA;AAAy4B,CAAgB,04BAAG,EAAC,C;;;;;;;;;;;ACA75B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/goods/goods.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./goods.vue?vue&type=template&id=f73ce21c&scoped=true&\"\nvar renderjs\nimport script from \"./goods.vue?vue&type=script&lang=js&\"\nexport * from \"./goods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goods.vue?vue&type=style&index=0&id=f73ce21c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f73ce21c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/goods/goods.vue\"\nexport default component.exports","export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods.vue?vue&type=template&id=f73ce21c&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.isDetailsShow = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"goods-area\" v-show=\"show\">\r\n\t\t<view class=\"goods-main\">\r\n\t\t\t<!--菜品分类-->\r\n\t\t\t<scroll-view id=\"classify\" scroll-with-animation=\"true\" scroll-y=\"true\" class=\"classify\"\r\n\t\t\t\t:scroll-top=\"scrollItemsTop\">\r\n\t\t\t\t<view :class=\"{item:true, active:item.active}\" v-for=\"(item,index) in classifyItems\" :key=\"item.cid\">\r\n\t\t\t\t\t<view @click='goodsActives(index)'>{{item.title}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"height:170rpx;\"></view>\r\n\t\t\t</scroll-view>\r\n\t\t\t<!--菜品展示-->\r\n\t\t\t<scroll-view scroll-y=\"true\" id=\"goods-wrap\" class=\"goods-wrap\" scroll-with-animation=\"true\"\r\n\t\t\t\t:scroll-top=\"scrollTop\" @scroll=\"goodsScroll\">\r\n\t\t\t\t<view class=\"goods-classify\">\r\n\t\t\t\t\t<!-- block相当于占位符，用于写循环使用 -->\r\n\t\t\t\t\t<block v-for=\"(item,index) in goodsInfo\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"goods-classify-wrap\">\r\n\t\t\t\t\t\t\t<!-- //获取item中在vuex里初始化用于监听固定定位title的样式 -->\r\n\t\t\t\t\t\t\t<view class=\"classify-name\"\r\n\t\t\t\t\t\t\t\t:style=\"{left:item.left+'px',top:item.top+'px',position:item.position,zIndex:10}\">\r\n\t\t\t\t\t\t\t\t{{item.title}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"goods-list-wrap\">\r\n\t\t\t\t\t\t\t\t<view class=\"goods-list\" v-for=\"(item2,index2) in item.goods\" :key=\"index2\"\r\n\t\t\t\t\t\t\t\t\t@click=\"showGoodsDetails(item2)\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"image\">\r\n\t\t\t\t\t\t\t\t\t\t<image :lazy-load=\"true\" :src=\"item2.image\"></image>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"goods-info\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"goods-title\">{{item2.title}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"sales\">销量：{{item2.sales}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<!--如果是套餐-->\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"meal\" v-if=\"item2.is_meal==='1'\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"price\">￥15</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"meal-buy\">购买</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<!--如果非套餐-->\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"price-wrap\" v-else>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"price\">￥{{item2.price}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"amount\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!--如果没有库存-->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<template v-if=\"item2.stock<=0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"handle-amount\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text>已售光</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!--\r\n                                                如果菜品售卖在全部时间段\r\n                                                -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<template v-else-if=\"item2.sell_time_type==='0'\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"handle-amount\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!--如果数量大于0，显示减号-->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"dec\" v-if=\"item2.amount>0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"decAmount(item2.gid,item2.new_meal_items,item2.meal_items)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!--\r\n                                                        为了防止scroll-view组件内使用input卡顿的问题，先使用view组件显示数量，单击该组件，显示input输入框，并隐藏view组件，输入完成后使用@blur事件，隐藏input组件，显示view组件\r\n                                                        -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\" v-if=\"item2.amount>0 && !item2.amountInput\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"showAmountInput(index,index2)\">{{item2.amount}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input :value=\"item2.amount\" type=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item2.amountInput\" :focus=\"item2.amountInputForcus\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@blur=\"hideAmountInput($event,item2.gid,item2.new_meal_items,item2.meal_items,index,index2)\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"inc\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"isLoginStatus(item2.gid,item2.new_meal_items,item2.meal_items)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!--\r\n                                                如果菜品售卖在自定义时间段\r\n                                                -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!--在售卖期-->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<template v-if=\"item2.sell_status==='1'\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"handle-amount\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"dec\" v-if=\"item2.amount>0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"decAmount(item2.gid,item2.new_meal_items,item2.meal_items)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- 菜品数量大于0且amountInput为false 显示文本，否则显示input -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item2.amount>0 && !item2.amountInput\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"showAmountInput(index,index2)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{item2.amount}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input :value=\"item2.amount\" type=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item2.amountInput\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@blur=\"hideAmountInput($event,item2.gid,item2.new_meal_items,item2.meal_items,index,index2)\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"inc\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"isLoginStatus(item2.gid,item2.new_meal_items,item2.meal_items)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text>非可售时间</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"width:100%;height:190rpx;\"></view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t\t<Details :show=\"isDetailsShow\" :detailsGid=\"goodsId\" :branchShopId=\"branchShopId\" :goodsAmount=\"goodsAmount\"\r\n\t\t\t@close=\"isDetailsShow=false\" @incAmount=\"isLoginStatus\" @decAmount=\"decAmount\" @setAmount=\"hideAmountInput\">\r\n\t\t</Details>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapMutations\r\n\t} from 'vuex'\r\n\timport Details from '../../components/goods/details.vue'\r\n\texport default {\r\n\t\tname: \"goods-component\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tclassifyItems: [], //菜品分类 循环数据\r\n\t\t\t\tgoodsInfo: [], //菜品，循环数据,\r\n\t\t\t\tscrollTop: \"\", //每个菜品区域的top\r\n\t\t\t\tscrollItemsTop: \"\", //每个菜品分类区域的top\r\n\t\t\t\tisDetailsShow: false, //是否显示菜品详情组件\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\t//是否显示菜品组件\r\n\t\t\tshow: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\t//菜品的id\r\n\t\t\tgoodsId: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"\"\r\n\t\t\t},\r\n\t\t\t//商家id\r\n\t\t\tbranchShopId: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"\"\r\n\t\t\t},\r\n\t\t\t//菜品分类信息\r\n\t\t\tshopGoods: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: () => []\r\n\t\t\t},\r\n\t\t\t// 菜品信息\r\n\t\t\tgoodsItems: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: () => []\r\n\t\t\t},\r\n\t\t\tgoodsAmount: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t}\r\n\t\t},\r\n \r\n\t\t//进入组件就会出发，避免组件重复渲染\r\n\t\tactivated() {\r\n\t\t\tthis.goodsTop = 0; //菜品详情scroll-view距离顶部的top\r\n\t\t\tthis.goodsHeight = 0;\r\n\t\t\tthis.goodsLeft = 0; //菜品详情scroll-view距离顶部的left\r\n\t\t\tthis.goodsJson = {} //获取到的菜品的gid作为key，将其相对应的位置top作为value 存储到json对象中用和搜索页面传来的gid相匹配从而拿到定位\r\n\t\t\t// watch监听如果访问同一家店铺失效问题\r\n\t\t\tif (this.shopGoods && this.shopGoods.length > 0) {\r\n\t\t\t\tthis.classifyItems = this.shopGoods\r\n\t\t\t}else{\r\n\t\t\t\tthis.classifyItems=[]\r\n\t\t\t}\r\n \t\t\tif (this.goodsItems && this.goodsItems.length > 0) {\r\n\t\t\t\tthis.goodsInfo = this.goodsItems\r\n\t\t\t}else{\r\n\t\t\t\tthis.goodsInfo=[]\r\n\t\t\t}\r\n\t\t\tthis.isGoodsPosition = true //控制菜品区域定位只在页面加载时执行一次，过后不再执行\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations({\r\n\t\t\t\t\"SET_GOODS_POSITION\": \"goods/SET_GOODS_POSITION\", //改变vuex中goodsItems数据中的定位，解决滚动定位不准确问题\r\n\t\t\t\t\"SHOW_AMOUNT_INPUT\": \"goods/SHOW_AMOUNT_INPUT\", //菜品组件显示数量输入框\r\n\t\t\t\t\"HIDE_AMOUNT_INPUT\": \"goods/HIDE_AMOUNT_INPUT\" //菜品组件隐藏输入框\r\n\t\t\t}),\r\n\t\t\tgoodsActives(index) {\r\n\t\t\t\tif (this.classifyItems.length > 0) {\r\n\t\t\t\t\tfor (let i = 0; i < this.classifyItems.length; i++) {\r\n\t\t\t\t\t\tif (this.classifyItems[i].active) {\r\n\t\t\t\t\t\t\tthis.classifyItems[i].active = false\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.classifyItems[index].active = true\r\n\t\t\t\t\tthis.$set(this.classifyItems, index, this.classifyItems[index])\r\n\t\t\t\t\t//将每一个菜品区域的top赋值菜品区域的scroll-view，从而达到点击左侧菜品分类，右侧滚动条滚动到相应位置\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.scrollTop = this.classifyItems[index].goodsTop\r\n\t\t\t\t\t}, 50)\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//获取菜品位置\r\n\t\t\tgetGoodsPosition() {\r\n\t\t\t\t// 先获取菜品的scrool-view节点信息，来获取top，left，height\r\n\t\t\t\tlet goodsWrap = uni.createSelectorQuery().in(this).select(\".goods-wrap\")\r\n\t\t\t\tgoodsWrap.boundingClientRect(data => {\r\n\t\t\t\t\tthis.goodsTop = data.top //对应vuex中分类的top\r\n\t\t\t\t\tthis.goodsHeight = data.height //对应vuex中的goodsheight 菜品的高度\r\n\t\t\t\t\tthis.goodsLeft = data.left //对应vuex中分类的left \r\n\t\t\t\t\t//获取.goods-classify-wrap节点信息，获取所有菜品分类top,height,left\r\n\t\t\t\t\tlet goodsClassify = uni.createSelectorQuery().in(this).selectAll(\".goods-classify-wrap\")\r\n\t\t\t\t\tgoodsClassify.boundingClientRect(goodsData => {\r\n\t\t\t\t\t\tif (goodsData.length > 0) {\r\n\t\t\t\t\t\t\tlet goodsWrapTop = 0\r\n\t\t\t\t\t\t\tfor (let i = 0; i < goodsData.length; i++) {\r\n\t\t\t\t\t\t\t\t//因为每个菜品的top目前是相对于整个窗体，距离窗体顶部还有this.goodsTop的距离 故而做减法\r\n\t\t\t\t\t\t\t\tgoodsWrapTop = goodsData[i].top - this\r\n\t\t\t\t\t\t\t\t\t.goodsTop //用每一个菜品距离顶部的距离减去scrool-view距离顶部的距离从而得到相对应scrool-view的菜品距离从0开始\r\n\t\t\t\t\t\t\t\t// console.log(goodsData[i])\r\n\t\t\t\t\t\t\t\tthis.classifyItems[i].goodsTop = goodsWrapTop //将每一个菜品区域的top赋值给菜品分类\r\n\t\t\t\t\t\t\t\tthis.classifyItems[i].goodsHeight = goodsData[i].height //菜品区域上方固定分类样式高度\r\n\t\t\t\t\t\t\t\t// this.classifyItems[i].top = goodsData[i].top //菜品区域上方固定分类样式top\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//获取列表内每个菜品的节点信息，top，left,height\r\n\t\t\t\t\t\t\tlet goodsList = uni.createSelectorQuery().in(this).selectAll(\".goods-list\")\r\n\t\t\t\t\t\t\tgoodsList.boundingClientRect(listData => {\r\n\t\t\t\t\t\t\t\tif (listData.length > 0) {\r\n\t\t\t\t\t\t\t\t\t// 定义一个索引\r\n\t\t\t\t\t\t\t\t\tlet itemsIndex = 0\r\n\t\t\t\t\t\t\t\t\t//循环菜品分类\r\n\t\t\t\t\t\t\t\t\tfor (let i = 0; i < this.goodsInfo.length; i++) {\r\n\t\t\t\t\t\t\t\t\t\t//循环菜品分类下的菜品信息，为top赋值 定位每个菜品\r\n\t\t\t\t\t\t\t\t\t\tfor (let j = 0; j < this.goodsInfo[i].goods.length; j++) {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.goodsInfo[i].goods[j].top = listData[itemsIndex]\r\n\t\t\t\t\t\t\t\t\t\t\t\t.top\r\n\t\t\t\t\t\t\t\t\t\t\titemsIndex++\r\n\t\t\t\t\t\t\t\t\t\t\t// 为goodsJson赋值\r\n\t\t\t\t\t\t\t\t\t\t\tlet gid = this.goodsInfo[i].goods[j].gid\r\n\t\t\t\t\t\t\t\t\t\t\tthis.goodsJson[gid] = this.goodsInfo[i].goods[j].top\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t//搜索进入定位菜品信息\r\n\t\t\t\t\t\t\t\t\tthis.setItemPosition()\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}).exec() //exec 执行所有节点信息内容\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).exec()\r\n\t\t\t\t}).exec()\r\n\t\t\t},\r\n\t\t\t//监听菜品滚动事件\r\n\t\t\tgoodsScroll(e) {\r\n\t\t\t\t// console.log(e.detail.scrollTop)\r\n\t\t\t\tif (this.classifyItems.length > 0) {\r\n\t\t\t\t\tfor (let i = 0; i < this.classifyItems.length; i++) {\r\n\t\t\t\t\t\t// 当当前滚条位置大于距离顶部距离且同时小于当前菜品高度整体距离顶部距离时候,就是当前菜品可视区域\r\n\t\t\t\t\t\tif (this.classifyItems[i].goodsTop <= e.detail.scrollTop && e.detail.scrollTop <= this\r\n\t\t\t\t\t\t\t.classifyItems[i].goodsTop + this.classifyItems[i].goodsHeight) {\r\n\t\t\t\t\t\t\t//将其他点击状态设置为fasle，如果使用esle设置会出现最后底部区域无法设置的问题\r\n\t\t\t\t\t\t\tfor (let key in this.classifyItems) {\r\n\t\t\t\t\t\t\t\tif (this.classifyItems[key].active) {\r\n\t\t\t\t\t\t\t\t\tthis.classifyItems[key].active = false\r\n\t\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//判断是否滚动到菜单底部，如果滚动到scroll-view底部区域 强制左侧菜品分类切换到最后一个分类,解决最后一个菜品分类很少无法滚动的情况下，左侧菜单分类不更新\r\n\t\t\t\t\t\t\t// console.log(parseInt(e.detail.scrollTop/e.detail.scrollHeight*100))\r\n\t\t\t\t\t\t\tif (parseInt(e.detail.scrollTop / e.detail.scrollHeight * 100) >= 90) {\r\n\t\t\t\t\t\t\t\tthis.classifyItems[this.classifyItems.length - 1].active = true\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.classifyItems[i].active = true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//菜品分类滚动到相应位置，滚动条自动滚动\r\n\t\t\t\t\t\t\tthis.scrollItemsTop = this.classifyItems[i].top\r\n\t\t\t\t\t\t\t// console.log(this.classifyItems[i])\r\n\t\t\t\t\t\t\t//将非可视区域的标题改为静态定位从而达只显示当先可视区域标题\r\n\t\t\t\t\t\t\tfor (let goodsKey in this.goodsInfo) {\r\n\t\t\t\t\t\t\t\t\t// console.log(this.goodsInfo[goodsKey])\r\n\t\t\t\t\t\t\t\t//如果定位存在固定定位修改为静态定位\r\n\t\t\t\t\t\t\t\tif (this.goodsInfo[goodsKey].position === \"fixed\") {\r\n\t\t\t\t\t\t\t\t\tthis.goodsInfo[goodsKey].position = \"static\"\r\n\t\t\t\t\t\t\t\t\tthis.goodsInfo[goodsKey].top = 0\r\n\t\t\t\t\t\t\t\t\tthis.goodsInfo[goodsKey].left = 0\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t//改变vuex中的goodsItems数据的定位,解决点击加号后固定标题头丢死，定位卡顿问题\r\n\t\t\t\t\t\t\t\t\tthis.SET_GOODS_POSITION({\r\n\t\t\t\t\t\t\t\t\t\tindex: goodsKey,\r\n\t\t\t\t\t\t\t\t\t\tposition: \"static\",\r\n\t\t\t\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\t\t\t\tleft: 0\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tconsole.log(this.goodsInfo[i])\r\n\t\t\t\t\t\t\t//菜品区域上方菜品分类固定定位随之更替\r\n\t\t\t\t\t\t\tthis.goodsInfo[i].position = \"fixed\"\r\n\t\t\t\t\t\t\tthis.goodsInfo[i].left = this.goodsLeft\r\n\t\t\t\t\t\t\tthis.goodsInfo[i].top = this.goodsTop - 10\r\n\t\t\t\t\t\t\t//改变vuex中的goodsItems数据的定位\r\n\t\t\t\t\t\t\tthis.SET_GOODS_POSITION({\r\n\t\t\t\t\t\t\t\tindex: i,\r\n\t\t\t\t\t\t\t\tposition: \"fixed\",\r\n\t\t\t\t\t\t\t\ttop: this.goodsTop - 10,\r\n\t\t\t\t\t\t\t\tleft: this.goodsLeft\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//获取菜品分类位置,实现步骤和获取菜品一样\r\n\t\t\tgetGoodsItemsPosition() {\r\n\t\t\t\t//获取菜品分类scroll-view距离屏幕顶部距离\r\n\t\t\t\tlet goodsItems = uni.createSelectorQuery().in(this).select(\".classify\")\r\n\t\t\t\tgoodsItems.boundingClientRect(data => {\r\n\t\t\t\t\tlet goodsItemsTop = data.top\r\n\t\t\t\t\t// 获取每个菜品分类区域距离顶部距离\r\n\t\t\t\t\tlet goodsClassifyItems = uni.createSelectorQuery().in(this).selectAll(\".classify .item\")\r\n\t\t\t\t\tgoodsClassifyItems.boundingClientRect(data => {\r\n\t\t\t\t\t\tif (data.length > 0) {\r\n\t\t\t\t\t\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\t\t\t\t\t\t//用每个菜品分类相对于窗体的top距离减去菜品分类的scroll-view距离窗体的top距离 得到每个菜品分来相对于菜品分类的scroll-view的top距离\r\n\t\t\t\t\t\t\t\tthis.classifyItems[i].top = data[i].top - goodsItemsTop\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}).exec()\r\n\t\t\t\t}).exec()\r\n\t\t\t},\r\n\t\t\t//搜索页面进入菜品页面定位菜品位置\r\n\t\t\tsetItemPosition() {\r\n\t\t\t\tif (this.goodsId && this.goodsInfo.length > 0) {\r\n\t\t\t\t\tconsole.log(this.goodsJson[this.goodsId])\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t//如果gid存在且商品不为0时，获取goodsJson中的相对应的gid 的top（相对于窗体），减去scroll-view的top（相对于窗体），得到相对于scroll-view的top达到定位效果\r\n\t\t\t\t\t\tthis.scrollTop = this.goodsJson[this.goodsId] - this.goodsTop - 50\r\n\t\t\t\t\t}, 50)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//菜品组件显示输入框\r\n\t\t\tshowAmountInput(index, index2) {\r\n\t\t\t\tthis.SHOW_AMOUNT_INPUT({\r\n\t\t\t\t\tindex: index,\r\n\t\t\t\t\tindex2: index2\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//菜品组件隐藏输入框同时更新vuex中的数据源\r\n\t\t\thideAmountInput(e, gid, newMeal, mealItems, index, index2) {\r\n\t\t\t\tthis.$emit(\"setGoodsAmountInput\", e, gid, newMeal, mealItems)\r\n\t\t\t\tthis.HIDE_AMOUNT_INPUT({\r\n\t\t\t\t\tindex: index,\r\n\t\t\t\t\tindex2: index2\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//显示菜品详情组件\r\n\t\t\tshowGoodsDetails(val) {\r\n\t\t\t\tif (val.stock > 0) {\r\n\t\t\t\t\tif (val.is_meal === \"0\") {\r\n\t\t\t\t\t\tthis.isDetailsShow = true\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"菜品暂时不可选购哦，再看看别的啦！\",\r\n\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t// 购买数量犹豫在菜品详情/菜品展示以及购物车页面均为相同,这里统一用点餐页面(父页面)做逻辑\r\n\t\t\t\tthis.$emit(\"showGoodsDetails\", val)\r\n\t\t\t},\r\n\t\t\t// 点击加号增加数量同时判断是否登录，逻辑在父页面写\r\n\t\t\tisLoginStatus(gid, newMeal, mealItem) {\r\n\t\t\t\t//传值给父组件，用于做购物车逻辑\r\n\t\t\t\tthis.$emit(\"incAmount\", gid, newMeal, mealItem)\r\n\t\t\t},\r\n\t\t\t//点击减号 减少数量/清空菜品，同加号逻辑相同\r\n\t\t\tdecAmount(gid, newMeal, mealItem) {\r\n\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.$emit(\"decAmount\", gid, newMeal, mealItem)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tDetails\r\n\t\t},\r\n\t\t//组件传值容易存在异步获取延迟问题，这里监听数据动向后赋值\r\n\t\twatch: {\r\n\t\t\t// 监听菜品分类，相同店铺仅执行第一次,\r\n\t\t\tshopGoods(shopGoods) {\r\n\t\t\t\tthis.classifyItems = shopGoods\r\n\t\t\t},\r\n\t\t\t// 监听菜品，相同店铺仅执行第一次\r\n\t\t\tgoodsItems(goodsItems) {\r\n\t\t\t\tthis.goodsInfo = goodsItems\r\n\t\t\t\t// console.log(goodsItems)\r\n\r\n\t\t\t},\r\n\t\t\tgoods() {\r\n\t\t\t\tthis.getGoodsItemsPosition()\r\n\t\t\t},\r\n\t\t\tgoodsInfo() {\r\n\t\t\t\tif (this.isGoodsPosition) {\r\n\t\t\t\t\tthis.isGoodsPosition = false\r\n\t\t\t\t\t// 监听到菜品数据发生改变后调用获取菜品位置\r\n\t\t\t\t\tthis.getGoodsPosition()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.goods-area {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.goods-main {\r\n\t\twidth: 100%;\r\n\t\theight: 70vh;\r\n\t\toverflow: hidden;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.goods-main .classify {\r\n\t\theight: 90%;\r\n\t\twidth: 156rpx;\r\n\t\tbackground-color: #fafafa;\r\n\t}\r\n\r\n\t.goods-main .classify .item {\r\n\t\twidth: 100%;\r\n\t\theight: 72rpx;\r\n\t\toverflow: hidden;\r\n\t\tmargin-bottom: 40rpx;\r\n\t\tposition: relative;\r\n\t\tz-index: 1;\r\n\t}\r\n\r\n\t.goods-main .classify .item view {\r\n\t\twidth: 80%;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #999999;\r\n\t\tposition: absolute;\r\n\t\tz-index: 1;\r\n\t\tleft: 50%;\r\n\t\ttop: 50%;\r\n\t\ttransform: translate(-50%, -50%)\r\n\t}\r\n\r\n\t.goods-main .classify .item.active {\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\r\n\t.goods-main .classify .item.active view {\r\n\t\tcolor: #333333\r\n\t}\r\n\r\n\t.goods-main .goods-wrap {\r\n\t\twidth: 76%;\r\n\t\theight: 90%;\r\n\t}\r\n\r\n\t.goods-main .goods-classify {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.goods-main .goods-classify .classify-name {\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333333;\r\n\t\tfont-weight: bold;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\r\n\t.goods-main .goods-list-wrap {\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.goods-main .goods-list-wrap .goods-list {\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin-top: 40rpx;\r\n\t\talign-items: center\r\n\t}\r\n\r\n\t.goods-main .goods-list-wrap .goods-list .image {\r\n\t\twidth: 180rpx;\r\n\t\theight: 180rpx;\r\n\t\tborder-radius: 6px;\r\n\t}\r\n\r\n\t.goods-main .goods-list-wrap .goods-list .image image {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tborder-radius: 6px;\r\n\t}\r\n\r\n\t.goods-main .goods-list .goods-info {\r\n\t\twidth: 62%;\r\n\t\theight: auto;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\r\n\t.goods-main .goods-list .goods-title {\r\n\t\twidth: 100%;\r\n\t\theight: 80rpx;\r\n\t\toverflow: hidden;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333333;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.goods-main .goods-list .sales {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999999;\r\n\t\tmargin-top: 10rpx;\r\n\t}\r\n\r\n\t.goods-main .goods-list .points {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #D6001C;\r\n\t\tmargin-top: 10rpx;\r\n\t}\r\n\r\n\t.goods-main .goods-list .price {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #fb4e44;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.goods-main .goods-list .price-wrap {\r\n\t\twidth: 100%;\r\n\t\tmargin-top: 10rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.goods-main .goods-list .meal {\r\n\t\twidth: 100%;\r\n\t\tmargin-top: 10rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.goods-main .goods-list .meal .meal-buy {\r\n\t\twidth: 110rpx;\r\n\t\theight: 50rpx;\r\n\t\tbackground-color: #D6001C;\r\n\t\tcolor: #FFFFFF;\r\n\t\ttext-align: center;\r\n\t\tline-height: 50rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tborder-radius: 4px;\r\n\t}\r\n\r\n\t.goods-main .goods-list .amount {\r\n\t\twidth: auto;\r\n\t\theight: auto;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.goods-main .goods-list .amount text {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999999;\r\n\t}\r\n\r\n\t.goods-main .goods-list .handle-amount {\r\n\t\twidth: auto;\r\n\t\theight: 60rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: flex-end\r\n\t}\r\n\r\n\t.goods-main .goods-list .handle-amount .dec {\r\n\t\twidth: 55rpx;\r\n\t\theight: 55rpx;\r\n\t\tbackground-image: url(\"~@/static/images/main/dec.png\");\r\n\t\tbackground-size: 100%;\r\n\t\tbackground-position: center;\r\n\t\tbackground-repeat: no-repeat;\r\n\t}\r\n\r\n\t.goods-main .goods-list .handle-amount .inc {\r\n\t\twidth: 55rpx;\r\n\t\theight: 55rpx;\r\n\t\tbackground-image: url(\"~@/static/images/main/inc.png\");\r\n\t\tbackground-size: 100%;\r\n\t\tbackground-position: center;\r\n\t\tbackground-repeat: no-repeat;\r\n\t}\r\n\r\n\t.goods-main .goods-list .handle-amount .text {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333333;\r\n\t\tmargin-right: 10rpx;\r\n\t\tmargin-left: 10rpx;\r\n\t\twidth: 50rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.goods-main .goods-list .start-sell {\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999999;\r\n\t}\r\n\r\n\t.goods-main .goods-list .handle-amount input {\r\n\t\twidth: 50rpx;\r\n\t\theight: 100%;\r\n\t\ttext-align: center;\r\n\t\tmargin-right: 10rpx;\r\n\t\tmargin-left: 10rpx;\r\n\t}\r\n</style>\r\n","import mod from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods.vue?vue&type=style&index=0&id=f73ce21c&scoped=true&lang=css&\"; export default mod; export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods.vue?vue&type=style&index=0&id=f73ce21c&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1712566542805\n      var cssReload = require(\"C:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
=======
{"version":3,"sources":[null,"webpack:///D:/githubchat/firstdec/ordering-app/components/goods/goods.vue?9d12","webpack:///D:/githubchat/firstdec/ordering-app/components/goods/goods.vue?fbc9","webpack:///D:/githubchat/firstdec/ordering-app/components/goods/goods.vue?ddc7","uni-app:///components/goods/goods.vue","webpack:///D:/githubchat/firstdec/ordering-app/components/goods/goods.vue?c98b","webpack:///D:/githubchat/firstdec/ordering-app/components/goods/goods.vue?62db"],"names":["name","data","classifyItems","goodsInfo","scrollTop","scrollItemsTop","isDetailsShow","props","show","type","default","goodsId","branchShopId","shopGoods","goodsItems","goodsAmount","mounted","activated","methods","goodsActives","setTimeout","getGoodsPosition","goodsWrap","goodsClassify","goodsWrapTop","goodsTop","goodsList","top","itemsIndex","goodsScroll","index","position","left","getGoodsItemsPosition","goodsClassifyItems","setItemPosition","console","showAmountInput","index2","hideAmountInput","showGoodsDetails","uni","title","icon","isLoginStatus","decAmount","components","Details","watch","goods"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACqC;;;AAGzF;AACsK;AACtK,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAinB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACoHroB;AAEA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,gBAEA;EACAA;EACAC;IACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;;EACAC;IACA;IACAC;MACAC;MACAC;IACA;IACA;IACAC;MACAF;MACAC;IACA;IACA;IACAE;MACAH;MACAC;IACA;IACA;IACAG;MACAJ;MACAC;QAAA;MAAA;IACA;IACA;IACAI;MACAL;MACAC;QAAA;MAAA;IACA;IACAK;MACAN;MACAC;IACA;EACA;EACAM;IACA;IACA;IACA;IACA;IACA;IACA;MACA;IACA;IACA;MACA;IACA;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;IACA;IACA;MACA;IACA;IACA;MACA;IACA;IACA;EACA;;EACAC,yCACA;IACA;IAAA;IACA;IAAA;IACA;EACA;IACAC;MAAA;MACA;QACA;UACA;YACA;YACA;UACA;QACA;QACA;QACA;QACA;QACAC;UACA;QACA;MAEA;IACA;IACA;IACAC;MAAA;MACA;MACA;MACAC;QACA;QACA;QACA;QACA;QACA;QACAC;UACA;YACA;YACA;cACA;cACAC,yCACAC;cACA;cACA;cACA;cACA;YACA;YACA;YACA;YACAC;cACA;gBACA;gBACA;gBACA;gBACA;kBACA;kBACA;oBACA,yDACAC;oBACAC;oBACA;oBACA;oBACA;kBAGA;gBACA;gBACA;gBACA;cACA;YACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;UACA;UACA,uFACA3B;YACA;YACA;cACA;gBACA;gBACA;cACA;YACA;YACA;YACA;YACA;cACA;YACA;cACA;YACA;YACA;YACA;YACA;YACA;YACA;cACA;cACA;gBACA;gBACA;gBACA;gBACA;gBACA;kBACA4B;kBACAC;kBACAJ;kBACAK;gBACA;gBACA;cACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;cACAF;cACAC;cACAJ;cACAK;YACA;UACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;MACAnB;QACA;QACA;QACA;QACAoB;UACA;YACA;cACA;cACA;YAEA;UACA;QAEA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACAC;QACAhB;UACA;UACA;QACA;MACA;IACA;IACA;IACAiB;MACA;QACAP;QACAQ;MACA;IACA;IACA;IACAC;MACA;MACA;QACAT;QACAQ;MACA;IACA;IACA;IACAE;MACA;QACA;UACA;QACA;MACA;QACAC;UACAC;UACAC;QACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MAGA;IACA;EAAA,EACA;EACAC;IACAC;EACA;EACA;EACAC;IACA;IACAnC;MACA;IACA;IACA;IACAC;MACA;MACA;IAEA;IACAmC;MACA;IACA;IACA9C;MACA;QACA;QACA;QACA;MACA;IACA;EACA;AACA;AAAA,4B;;;;;;;;;;;;;AClaA;AAAA;AAAA;AAAA;AAAk6B,CAAgB,43BAAG,EAAC,C;;;;;;;;;;;ACAt7B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/goods/goods.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./goods.vue?vue&type=template&id=f73ce21c&scoped=true&\"\nvar renderjs\nimport script from \"./goods.vue?vue&type=script&lang=js&\"\nexport * from \"./goods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goods.vue?vue&type=style&index=0&id=f73ce21c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f73ce21c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/goods/goods.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=template&id=f73ce21c&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.isDetailsShow = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"goods-area\" v-show=\"show\">\r\n\t\t<view class=\"goods-main\">\r\n\t\t\t<!--菜品分类-->\r\n\t\t\t<scroll-view id=\"classify\" scroll-with-animation=\"true\" scroll-y=\"true\" class=\"classify\"\r\n\t\t\t\t:scroll-top=\"scrollItemsTop\">\r\n\t\t\t\t<view :class=\"{item:true, active:item.active}\" v-for=\"(item,index) in classifyItems\" :key=\"item.cid\">\r\n\t\t\t\t\t<view @click='goodsActives(index)'>{{item.title}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"height:170rpx;\"></view>\r\n\t\t\t</scroll-view>\r\n\t\t\t<!--菜品展示-->\r\n\t\t\t<scroll-view scroll-y=\"true\" id=\"goods-wrap\" class=\"goods-wrap\" scroll-with-animation=\"true\"\r\n\t\t\t\t:scroll-top=\"scrollTop\" @scroll=\"goodsScroll\">\r\n\t\t\t\t<view class=\"goods-classify\">\r\n\t\t\t\t\t<!-- block相当于占位符，用于写循环使用 -->\r\n\t\t\t\t\t<block v-for=\"(item,index) in goodsInfo\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"goods-classify-wrap\">\r\n\t\t\t\t\t\t\t<!-- //获取item中在vuex里初始化用于监听固定定位title的样式 -->\r\n\t\t\t\t\t\t\t<view class=\"classify-name\"\r\n\t\t\t\t\t\t\t\t:style=\"{left:item.left+'px',top:item.top+'px',position:item.position,zIndex:10}\">\r\n\t\t\t\t\t\t\t\t{{item.title}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"goods-list-wrap\">\r\n\t\t\t\t\t\t\t\t<view class=\"goods-list\" v-for=\"(item2,index2) in item.goods\" :key=\"index2\"\r\n\t\t\t\t\t\t\t\t\t@click=\"showGoodsDetails(item2)\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"image\">\r\n\t\t\t\t\t\t\t\t\t\t<image :lazy-load=\"true\" :src=\"item2.image\"></image>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"goods-info\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"goods-title\">{{item2.title}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"sales\">销量：{{item2.sales}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<!--如果是套餐-->\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"meal\" v-if=\"item2.is_meal==='1'\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"price\">￥15</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"meal-buy\">购买</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<!--如果非套餐-->\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"price-wrap\" v-else>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"price\">￥{{item2.price}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"amount\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!--如果没有库存-->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<template v-if=\"item2.stock<=0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"handle-amount\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text>已售光</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!--\r\n                                                如果菜品售卖在全部时间段\r\n                                                -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<template v-else-if=\"item2.sell_time_type==='0'\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"handle-amount\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!--如果数量大于0，显示减号-->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"dec\" v-if=\"item2.amount>0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"decAmount(item2.gid,item2.new_meal_items,item2.meal_items)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!--\r\n                                                        为了防止scroll-view组件内使用input卡顿的问题，先使用view组件显示数量，单击该组件，显示input输入框，并隐藏view组件，输入完成后使用@blur事件，隐藏input组件，显示view组件\r\n                                                        -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\" v-if=\"item2.amount>0 && !item2.amountInput\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"showAmountInput(index,index2)\">{{item2.amount}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input :value=\"item2.amount\" type=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item2.amountInput\" :focus=\"item2.amountInputForcus\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@blur=\"hideAmountInput($event,item2.gid,item2.new_meal_items,item2.meal_items,index,index2)\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"inc\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"isLoginStatus(item2.gid,item2.new_meal_items,item2.meal_items)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!--\r\n                                                如果菜品售卖在自定义时间段\r\n                                                -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<!--在售卖期-->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<template v-if=\"item2.sell_status==='1'\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"handle-amount\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"dec\" v-if=\"item2.amount>0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"decAmount(item2.gid,item2.new_meal_items,item2.meal_items)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- 菜品数量大于0且amountInput为false 显示文本，否则显示input -->\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item2.amount>0 && !item2.amountInput\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"showAmountInput(index,index2)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{item2.amount}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input :value=\"item2.amount\" type=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"item2.amountInput\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@blur=\"hideAmountInput($event,item2.gid,item2.new_meal_items,item2.meal_items,index,index2)\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"inc\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"isLoginStatus(item2.gid,item2.new_meal_items,item2.meal_items)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text>非可售时间</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"width:100%;height:190rpx;\"></view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t\t<Details :show=\"isDetailsShow\" :detailsGid=\"goodsId\" :branchShopId=\"branchShopId\" :goodsAmount=\"goodsAmount\"\r\n\t\t\t@close=\"isDetailsShow=false\" @incAmount=\"isLoginStatus\" @decAmount=\"decAmount\" @setAmount=\"hideAmountInput\">\r\n\t\t</Details>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapMutations\r\n\t} from 'vuex'\r\n\timport Details from '../../components/goods/details.vue'\r\n\texport default {\r\n\t\tname: \"goods-component\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tclassifyItems: [], //菜品分类 循环数据\r\n\t\t\t\tgoodsInfo: [], //菜品，循环数据,\r\n\t\t\t\tscrollTop: \"\", //每个菜品区域的top\r\n\t\t\t\tscrollItemsTop: \"\", //每个菜品分类区域的top\r\n\t\t\t\tisDetailsShow: false, //是否显示菜品详情组件\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\t//是否显示菜品组件\r\n\t\t\tshow: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\t//菜品的id\r\n\t\t\tgoodsId: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"\"\r\n\t\t\t},\r\n\t\t\t//商家id\r\n\t\t\tbranchShopId: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"\"\r\n\t\t\t},\r\n\t\t\t//菜品分类信息\r\n\t\t\tshopGoods: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: () => []\r\n\t\t\t},\r\n\t\t\t// 菜品信息\r\n\t\t\tgoodsItems: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: () => []\r\n\t\t\t},\r\n\t\t\tgoodsAmount: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.goodsTop = 0; //菜品详情scroll-view距离顶部的top\r\n\t\t\tthis.goodsHeight = 0;\r\n\t\t\tthis.goodsLeft = 0; //菜品详情scroll-view距离顶部的left\r\n\t\t\tthis.goodsJson = {} //获取到的菜品的gid作为key，将其相对应的位置top作为value 存储到json对象中用和搜索页面传来的gid相匹配从而拿到定位\r\n\t\t\t// watch监听如果访问同一家店铺失效问题\r\n\t\t\tif (this.shopGoods && this.shopGoods.length > 0) {\r\n\t\t\t\tthis.classifyItems = this.shopGoods\r\n\t\t\t}\r\n\t\t\tif (this.goodsItems && this.goodsItems.length > 0) {\r\n\t\t\t\tthis.goodsInfo = this.goodsItems\r\n\t\t\t}\r\n\t\t\tthis.isGoodsPosition = true //控制菜品区域定位只在页面加载时执行一次，过后不再执行\r\n\t\t},\r\n\t\tactivated() {\r\n\t\t\tthis.goodsTop = 0; //菜品详情scroll-view距离顶部的top\r\n\t\t\tthis.goodsHeight = 0;\r\n\t\t\tthis.goodsLeft = 0; //菜品详情scroll-view距离顶部的left\r\n\t\t\tthis.goodsJson = {} //获取到的菜品的gid作为key，将其相对应的位置top作为value 存储到json对象中用和搜索页面传来的gid相匹配从而拿到定位\r\n\t\t\t// watch监听如果访问同一家店铺失效问题\r\n\t\t\tif (this.shopGoods && this.shopGoods.length > 0) {\r\n\t\t\t\tthis.classifyItems = this.shopGoods\r\n\t\t\t}\r\n\t\t\tif (this.goodsItems && this.goodsItems.length > 0) {\r\n\t\t\t\tthis.goodsInfo = this.goodsItems\r\n\t\t\t}\r\n\t\t\tthis.isGoodsPosition = true //控制菜品区域定位只在页面加载时执行一次，过后不再执行\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations({\r\n\t\t\t\t\"SET_GOODS_POSITION\": \"goods/SET_GOODS_POSITION\", //改变vuex中goodsItems数据中的定位，解决滚动定位不准确问题\r\n\t\t\t\t\"SHOW_AMOUNT_INPUT\": \"goods/SHOW_AMOUNT_INPUT\", //菜品组件显示数量输入框\r\n\t\t\t\t\"HIDE_AMOUNT_INPUT\": \"goods/HIDE_AMOUNT_INPUT\" //菜品组件隐藏输入框\r\n\t\t\t}),\r\n\t\t\tgoodsActives(index) {\r\n\t\t\t\tif (this.classifyItems.length > 0) {\r\n\t\t\t\t\tfor (let i = 0; i < this.classifyItems.length; i++) {\r\n\t\t\t\t\t\tif (this.classifyItems[i].active) {\r\n\t\t\t\t\t\t\tthis.classifyItems[i].active = false\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.classifyItems[index].active = true\r\n\t\t\t\t\tthis.$set(this.classifyItems, index, this.classifyItems[index])\r\n\t\t\t\t\t//将每一个菜品区域的top赋值菜品区域的scroll-view，从而达到点击左侧菜品分类，右侧滚动条滚动到相应位置\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.scrollTop = this.classifyItems[index].goodsTop\r\n\t\t\t\t\t}, 50)\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//获取菜品位置\r\n\t\t\tgetGoodsPosition() {\r\n\t\t\t\t// 先获取菜品的scrool-view节点信息，来获取top，left，height\r\n\t\t\t\tlet goodsWrap = uni.createSelectorQuery().in(this).select(\".goods-wrap\")\r\n\t\t\t\tgoodsWrap.boundingClientRect(data => {\r\n\t\t\t\t\tthis.goodsTop = data.top //对应vuex中分类的top\r\n\t\t\t\t\tthis.goodsHeight = data.height //对应vuex中的goodsheight 菜品的高度\r\n\t\t\t\t\tthis.goodsLeft = data.left //对应vuex中分类的left \r\n\t\t\t\t\t//获取.goods-classify-wrap节点信息，获取所有菜品分类top,height,left\r\n\t\t\t\t\tlet goodsClassify = uni.createSelectorQuery().in(this).selectAll(\".goods-classify-wrap\")\r\n\t\t\t\t\tgoodsClassify.boundingClientRect(goodsData => {\r\n\t\t\t\t\t\tif (goodsData.length > 0) {\r\n\t\t\t\t\t\t\tlet goodsWrapTop = 0\r\n\t\t\t\t\t\t\tfor (let i = 0; i < goodsData.length; i++) {\r\n\t\t\t\t\t\t\t\t//因为每个菜品的top目前是相对于整个窗体，距离窗体顶部还有this.goodsTop的距离 故而做减法\r\n\t\t\t\t\t\t\t\tgoodsWrapTop = goodsData[i].top - this\r\n\t\t\t\t\t\t\t\t\t.goodsTop //用每一个菜品距离顶部的距离减去scrool-view距离顶部的距离从而得到相对应scrool-view的菜品距离从0开始\r\n\t\t\t\t\t\t\t\t// console.log(goodsData[i])\r\n\t\t\t\t\t\t\t\tthis.classifyItems[i].goodsTop = goodsWrapTop //将每一个菜品区域的top赋值给菜品分类\r\n\t\t\t\t\t\t\t\tthis.classifyItems[i].goodsHeight = goodsData[i].height //菜品区域上方固定分类样式高度\r\n\t\t\t\t\t\t\t\t// this.classifyItems[i].top = goodsData[i].top //菜品区域上方固定分类样式top\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//获取列表内每个菜品的节点信息，top，left,height\r\n\t\t\t\t\t\t\tlet goodsList = uni.createSelectorQuery().in(this).selectAll(\".goods-list\")\r\n\t\t\t\t\t\t\tgoodsList.boundingClientRect(listData => {\r\n\t\t\t\t\t\t\t\tif (listData.length > 0) {\r\n\t\t\t\t\t\t\t\t\t// 定义一个索引\r\n\t\t\t\t\t\t\t\t\tlet itemsIndex = 0\r\n\t\t\t\t\t\t\t\t\t//循环菜品分类\r\n\t\t\t\t\t\t\t\t\tfor (let i = 0; i < this.goodsInfo.length; i++) {\r\n\t\t\t\t\t\t\t\t\t\t//循环菜品分类下的菜品信息，为top赋值 定位每个菜品\r\n\t\t\t\t\t\t\t\t\t\tfor (let j = 0; j < this.goodsInfo[i].goods.length; j++) {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.goodsInfo[i].goods[j].top = listData[itemsIndex]\r\n\t\t\t\t\t\t\t\t\t\t\t\t.top\r\n\t\t\t\t\t\t\t\t\t\t\titemsIndex++\r\n\t\t\t\t\t\t\t\t\t\t\t// 为goodsJson赋值\r\n\t\t\t\t\t\t\t\t\t\t\tlet gid = this.goodsInfo[i].goods[j].gid\r\n\t\t\t\t\t\t\t\t\t\t\tthis.goodsJson[gid] = this.goodsInfo[i].goods[j].top\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t//搜索进入定位菜品信息\r\n\t\t\t\t\t\t\t\t\tthis.setItemPosition()\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}).exec() //exec 执行所有节点信息内容\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).exec()\r\n\t\t\t\t}).exec()\r\n\t\t\t},\r\n\t\t\t//监听菜品滚动事件\r\n\t\t\tgoodsScroll(e) {\r\n\t\t\t\t// console.log(e.detail.scrollTop)\r\n\t\t\t\tif (this.classifyItems.length > 0) {\r\n\t\t\t\t\tfor (let i = 0; i < this.classifyItems.length; i++) {\r\n\t\t\t\t\t\t// 当当前滚条位置大于距离顶部距离且同时小于当前菜品高度整体距离顶部距离时候,就是当前菜品可视区域\r\n\t\t\t\t\t\tif (this.classifyItems[i].goodsTop <= e.detail.scrollTop && e.detail.scrollTop <= this\r\n\t\t\t\t\t\t\t.classifyItems[i].goodsTop + this.classifyItems[i].goodsHeight) {\r\n\t\t\t\t\t\t\t//将其他点击状态设置为fasle，如果使用esle设置会出现最后底部区域无法设置的问题\r\n\t\t\t\t\t\t\tfor (let key in this.classifyItems) {\r\n\t\t\t\t\t\t\t\tif (this.classifyItems[key].active) {\r\n\t\t\t\t\t\t\t\t\tthis.classifyItems[key].active = false\r\n\t\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//判断是否滚动到菜单底部，如果滚动到scroll-view底部区域 强制左侧菜品分类切换到最后一个分类,解决最后一个菜品分类很少无法滚动的情况下，左侧菜单分类不更新\r\n\t\t\t\t\t\t\t// console.log(parseInt(e.detail.scrollTop/e.detail.scrollHeight*100))\r\n\t\t\t\t\t\t\tif (parseInt(e.detail.scrollTop / e.detail.scrollHeight * 100) >= 90) {\r\n\t\t\t\t\t\t\t\tthis.classifyItems[this.classifyItems.length - 1].active = true\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.classifyItems[i].active = true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//菜品分类滚动到相应位置，滚动条自动滚动\r\n\t\t\t\t\t\t\tthis.scrollItemsTop = this.classifyItems[i].top\r\n\t\t\t\t\t\t\t// console.log(this.classifyItems[i])\r\n\t\t\t\t\t\t\t//将非可视区域的标题改为静态定位从而达只显示当先可视区域标题\r\n\t\t\t\t\t\t\tfor (let goodsKey in this.goodsInfo) {\r\n\t\t\t\t\t\t\t\t//如果定位存在固定定位修改为静态定位\r\n\t\t\t\t\t\t\t\tif (this.goodsInfo[goodsKey].position === \"fixed\") {\r\n\t\t\t\t\t\t\t\t\tthis.goodsInfo[goodsKey].position = \"static\"\r\n\t\t\t\t\t\t\t\t\tthis.goodsInfo[goodsKey].top = 0\r\n\t\t\t\t\t\t\t\t\tthis.goodsInfo[goodsKey].left = 0\r\n\t\t\t\t\t\t\t\t\t//改变vuex中的goodsItems数据的定位,解决点击加号后固定标题头丢死，定位卡顿问题\r\n\t\t\t\t\t\t\t\t\tthis.SET_GOODS_POSITION({\r\n\t\t\t\t\t\t\t\t\t\tindex: goodsKey,\r\n\t\t\t\t\t\t\t\t\t\tposition: \"static\",\r\n\t\t\t\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\t\t\t\tleft: 0\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//菜品区域上方菜品分类固定定位随之更替\r\n\t\t\t\t\t\t\tthis.goodsInfo[i].position = \"fixed\"\r\n\t\t\t\t\t\t\tthis.goodsInfo[i].left = this.goodsLeft\r\n\t\t\t\t\t\t\tthis.goodsInfo[i].top = this.goodsTop - 10\r\n\t\t\t\t\t\t\t//改变vuex中的goodsItems数据的定位\r\n\t\t\t\t\t\t\tthis.SET_GOODS_POSITION({\r\n\t\t\t\t\t\t\t\tindex: i,\r\n\t\t\t\t\t\t\t\tposition: \"fixed\",\r\n\t\t\t\t\t\t\t\ttop: this.goodsTop - 10,\r\n\t\t\t\t\t\t\t\tleft: this.goodsLeft\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//获取菜品分类位置,实现步骤和获取菜品一样\r\n\t\t\tgetGoodsItemsPosition() {\r\n\t\t\t\t//获取菜品分类scroll-view距离屏幕顶部距离\r\n\t\t\t\tlet goodsItems = uni.createSelectorQuery().in(this).select(\".classify\")\r\n\t\t\t\tgoodsItems.boundingClientRect(data => {\r\n\t\t\t\t\tlet goodsItemsTop = data.top\r\n\t\t\t\t\t// 获取每个菜品分类区域距离顶部距离\r\n\t\t\t\t\tlet goodsClassifyItems = uni.createSelectorQuery().in(this).selectAll(\".classify .item\")\r\n\t\t\t\t\tgoodsClassifyItems.boundingClientRect(data => {\r\n\t\t\t\t\t\tif (data.length > 0) {\r\n\t\t\t\t\t\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\t\t\t\t\t\t//用每个菜品分类相对于窗体的top距离减去菜品分类的scroll-view距离窗体的top距离 得到每个菜品分来相对于菜品分类的scroll-view的top距离\r\n\t\t\t\t\t\t\t\tthis.classifyItems[i].top = data[i].top - goodsItemsTop\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}).exec()\r\n\t\t\t\t}).exec()\r\n\t\t\t},\r\n\t\t\t//搜索页面进入菜品页面定位菜品位置\r\n\t\t\tsetItemPosition() {\r\n\t\t\t\tif (this.goodsId && this.goodsInfo.length > 0) {\r\n\t\t\t\t\tconsole.log(this.goodsJson[this.goodsId])\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t//如果gid存在且商品不为0时，获取goodsJson中的相对应的gid 的top（相对于窗体），减去scroll-view的top（相对于窗体），得到相对于scroll-view的top达到定位效果\r\n\t\t\t\t\t\tthis.scrollTop = this.goodsJson[this.goodsId] - this.goodsTop - 50\r\n\t\t\t\t\t}, 50)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//菜品组件显示输入框\r\n\t\t\tshowAmountInput(index, index2) {\r\n\t\t\t\tthis.SHOW_AMOUNT_INPUT({\r\n\t\t\t\t\tindex: index,\r\n\t\t\t\t\tindex2: index2\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//菜品组件隐藏输入框同时更新vuex中的数据源\r\n\t\t\thideAmountInput(e, gid, newMeal, mealItems, index, index2) {\r\n\t\t\t\tthis.$emit(\"setGoodsAmountInput\", e, gid, newMeal, mealItems)\r\n\t\t\t\tthis.HIDE_AMOUNT_INPUT({\r\n\t\t\t\t\tindex: index,\r\n\t\t\t\t\tindex2: index2\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//显示菜品详情组件\r\n\t\t\tshowGoodsDetails(val) {\r\n\t\t\t\tif (val.stock > 0) {\r\n\t\t\t\t\tif (val.is_meal === \"0\") {\r\n\t\t\t\t\t\tthis.isDetailsShow = true\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"菜品暂时不可选购哦，再看看别的啦！\",\r\n\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t// 购买数量犹豫在菜品详情/菜品展示以及购物车页面均为相同,这里统一用点餐页面(父页面)做逻辑\r\n\t\t\t\tthis.$emit(\"showGoodsDetails\", val)\r\n\t\t\t},\r\n\t\t\t// 点击加号增加数量同时判断是否登录，逻辑在父页面写\r\n\t\t\tisLoginStatus(gid, newMeal, mealItem) {\r\n\t\t\t\t//传值给父组件，用于做购物车逻辑\r\n\t\t\t\tthis.$emit(\"incAmount\", gid, newMeal, mealItem)\r\n\t\t\t},\r\n\t\t\t//点击减号 减少数量/清空菜品，同加号逻辑相同\r\n\t\t\tdecAmount(gid, newMeal, mealItem) {\r\n\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.$emit(\"decAmount\", gid, newMeal, mealItem)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tDetails\r\n\t\t},\r\n\t\t//组件传值容易存在异步获取延迟问题，这里监听数据动向后赋值\r\n\t\twatch: {\r\n\t\t\t// 监听菜品分类，相同店铺仅执行第一次,\r\n\t\t\tshopGoods(shopGoods) {\r\n\t\t\t\tthis.classifyItems = shopGoods\r\n\t\t\t},\r\n\t\t\t// 监听菜品，相同店铺仅执行第一次\r\n\t\t\tgoodsItems(goodsItems) {\r\n\t\t\t\tthis.goodsInfo = goodsItems\r\n\t\t\t\t// console.log(goodsItems)\r\n\r\n\t\t\t},\r\n\t\t\tgoods() {\r\n\t\t\t\tthis.getGoodsItemsPosition()\r\n\t\t\t},\r\n\t\t\tgoodsInfo() {\r\n\t\t\t\tif (this.isGoodsPosition) {\r\n\t\t\t\t\tthis.isGoodsPosition = false\r\n\t\t\t\t\t// 监听到菜品数据发生改变后调用获取菜品位置\r\n\t\t\t\t\tthis.getGoodsPosition()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.goods-area {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.goods-main {\r\n\t\twidth: 100%;\r\n\t\theight: 70vh;\r\n\t\toverflow: hidden;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.goods-main .classify {\r\n\t\theight: 90%;\r\n\t\twidth: 156rpx;\r\n\t\tbackground-color: #fafafa;\r\n\t}\r\n\r\n\t.goods-main .classify .item {\r\n\t\twidth: 100%;\r\n\t\theight: 72rpx;\r\n\t\toverflow: hidden;\r\n\t\tmargin-bottom: 40rpx;\r\n\t\tposition: relative;\r\n\t\tz-index: 1;\r\n\t}\r\n\r\n\t.goods-main .classify .item view {\r\n\t\twidth: 80%;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #999999;\r\n\t\tposition: absolute;\r\n\t\tz-index: 1;\r\n\t\tleft: 50%;\r\n\t\ttop: 50%;\r\n\t\ttransform: translate(-50%, -50%)\r\n\t}\r\n\r\n\t.goods-main .classify .item.active {\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\r\n\t.goods-main .classify .item.active view {\r\n\t\tcolor: #333333\r\n\t}\r\n\r\n\t.goods-main .goods-wrap {\r\n\t\twidth: 76%;\r\n\t\theight: 90%;\r\n\t}\r\n\r\n\t.goods-main .goods-classify {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.goods-main .goods-classify .classify-name {\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333333;\r\n\t\tfont-weight: bold;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\r\n\t.goods-main .goods-list-wrap {\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.goods-main .goods-list-wrap .goods-list {\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin-top: 40rpx;\r\n\t\talign-items: center\r\n\t}\r\n\r\n\t.goods-main .goods-list-wrap .goods-list .image {\r\n\t\twidth: 180rpx;\r\n\t\theight: 180rpx;\r\n\t\tborder-radius: 6px;\r\n\t}\r\n\r\n\t.goods-main .goods-list-wrap .goods-list .image image {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tborder-radius: 6px;\r\n\t}\r\n\r\n\t.goods-main .goods-list .goods-info {\r\n\t\twidth: 62%;\r\n\t\theight: auto;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\r\n\t.goods-main .goods-list .goods-title {\r\n\t\twidth: 100%;\r\n\t\theight: 80rpx;\r\n\t\toverflow: hidden;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333333;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.goods-main .goods-list .sales {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999999;\r\n\t\tmargin-top: 10rpx;\r\n\t}\r\n\r\n\t.goods-main .goods-list .points {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #D6001C;\r\n\t\tmargin-top: 10rpx;\r\n\t}\r\n\r\n\t.goods-main .goods-list .price {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #fb4e44;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.goods-main .goods-list .price-wrap {\r\n\t\twidth: 100%;\r\n\t\tmargin-top: 10rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.goods-main .goods-list .meal {\r\n\t\twidth: 100%;\r\n\t\tmargin-top: 10rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.goods-main .goods-list .meal .meal-buy {\r\n\t\twidth: 110rpx;\r\n\t\theight: 50rpx;\r\n\t\tbackground-color: #D6001C;\r\n\t\tcolor: #FFFFFF;\r\n\t\ttext-align: center;\r\n\t\tline-height: 50rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tborder-radius: 4px;\r\n\t}\r\n\r\n\t.goods-main .goods-list .amount {\r\n\t\twidth: auto;\r\n\t\theight: auto;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.goods-main .goods-list .amount text {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999999;\r\n\t}\r\n\r\n\t.goods-main .goods-list .handle-amount {\r\n\t\twidth: auto;\r\n\t\theight: 60rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: flex-end\r\n\t}\r\n\r\n\t.goods-main .goods-list .handle-amount .dec {\r\n\t\twidth: 55rpx;\r\n\t\theight: 55rpx;\r\n\t\tbackground-image: url(\"~@/static/images/main/dec.png\");\r\n\t\tbackground-size: 100%;\r\n\t\tbackground-position: center;\r\n\t\tbackground-repeat: no-repeat;\r\n\t}\r\n\r\n\t.goods-main .goods-list .handle-amount .inc {\r\n\t\twidth: 55rpx;\r\n\t\theight: 55rpx;\r\n\t\tbackground-image: url(\"~@/static/images/main/inc.png\");\r\n\t\tbackground-size: 100%;\r\n\t\tbackground-position: center;\r\n\t\tbackground-repeat: no-repeat;\r\n\t}\r\n\r\n\t.goods-main .goods-list .handle-amount .text {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333333;\r\n\t\tmargin-right: 10rpx;\r\n\t\tmargin-left: 10rpx;\r\n\t\twidth: 50rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.goods-main .goods-list .start-sell {\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999999;\r\n\t}\r\n\r\n\t.goods-main .goods-list .handle-amount input {\r\n\t\twidth: 50rpx;\r\n\t\theight: 100%;\r\n\t\ttext-align: center;\r\n\t\tmargin-right: 10rpx;\r\n\t\tmargin-left: 10rpx;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=style&index=0&id=f73ce21c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=style&index=0&id=f73ce21c&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1712581189052\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
>>>>>>> c33a89b (点餐)
