{"version":3,"sources":["uni-app:///main.js","webpack:///D:/test/order/ordering-app/pages/search/index.vue?9796","webpack:///D:/test/order/ordering-app/pages/search/index.vue?37f1","webpack:///D:/test/order/ordering-app/pages/search/index.vue?a2d2","webpack:///D:/test/order/ordering-app/pages/search/index.vue?ef3b","uni-app:///pages/search/index.vue","webpack:///D:/test/order/ordering-app/pages/search/index.vue?4183","webpack:///D:/test/order/ordering-app/pages/search/index.vue?5ba2"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","name","data","isShow","onLoad","onShow","uni","type","success","page","kwords","lng","lat","fail","console","methods","getSearchShop","getSearchShopReach","goPage","url","back","delta","onReachBottom","icon","title","computed","shopSearch"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACqC;;;AAGzF;AACsK;AACtK,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,4KAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACzCA;AAAA;AAAA;AAAA;AAAinB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACwCroB;AAAA;AAAA;AAAA,eACA;EACAC;EACAC;IACA;MACAC;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EACAC;IAAA;IACAC;MACAC;MACAC;QACA;QACA;QACA;UAAAC;UAAAC;UAAAC;UAAAC;UAAAJ;YACA;UACA;QAAA;MACA;MAAAK;QACAC;MACA;IACA;EAEA;EACAC,yCACA;IACAC;IAAA;IACAC;EACA;IACAC;MACAZ;QACAa;MACA;IACA;IACAC;MACAd;QACAe;MACA;IACA;EAAA,EACA;EACAC;IACA;IACA;MACA;MACA;QAAAb;QAAAC;QAAAC;QAAAC;MAAA;IACA;MACAN;QACAiB;QACAC;MACA;IACA;EAEA;EACAC,4BACA;IACAC;MAAA;IAAA;EACA;AAGA;AAAA,2B;;;;;;;;;;;;;AC3GA;AAAA;AAAA;AAAA;AAAk6B,CAAgB,43BAAG,EAAC,C;;;;;;;;;;;ACAt7B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/search/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/search/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=482e85b8&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=482e85b8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"482e85b8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/search/index.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=482e85b8&scoped=true&\"","var components\ntry {\n  components = {\n    search: function () {\n      return import(\n        /* webpackChunkName: \"components/search/search\" */ \"@/components/search/search.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.isShow = true\n    }\n    _vm.e1 = function ($event) {\n      _vm.isShow = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n    <view class=\"page\">\r\n        <view class=\"status_bar bg-color\"></view>\r\n        <view :class=\"{nav:true,wechat:true,ipx:true}\">\r\n            <view class=\"back\" @click=\"back()\"></view>\r\n            <view class=\"title\">搜索</view>\r\n        </view>\r\n        <view :class=\"{header:true,ipx:false}\">\r\n            <view :class=\"{'search-header':true}\">\r\n                <view class=\"search-wrap\"  @click=\"isShow=true\">\r\n                    <view class=\"icon\"></view>\r\n                    <view class=\"search\">输入商家名或菜品</view>\r\n                </view>\r\n            </view>\r\n        </view>\r\n        <view :class=\"{main:true,ipx:true}\" v-if=\"shopSearch.length>0\">\r\n            <view class=\"goods-wrap\" v-for=\"(item,index) in shopSearch\" :key=\"item.gid\" @click=\"goPage('/pages/goods/index?branch_shop_id='+item.branch_shop_id+'&gid='+item.gid)\">\r\n                <view class=\"shop\">\r\n                    <view class=\"shop-name\">{{item.branch_shop_name}}</view>\r\n                    <view class=\"distance\">{{item.distance}}</view>\r\n                </view>\r\n                <view class=\"goods-list\">\r\n                    <view class=\"image\"><image :src=\"item.image\"></image></view>\r\n                    <view class=\"goods-info\">\r\n                        <view class=\"goods-title\">{{item.title}}</view>\r\n                        <view class=\"sales\">销量：{{item.sales}}</view>\r\n                        <view class=\"price-wrap\">\r\n                            <view class=\"price\">￥{{item.price}}</view>\r\n                        </view>\r\n                    </view>\r\n                </view>\r\n            </view>\t\t \r\n        </view>\r\n\t\t<!-- no-data 公共类，在app.vue中定义 -->\r\n        <view class=\"no-data\" v-if=\"shopSearch.length<=0\">没有相关菜品！</view>\r\n\t\t<search :show=\"isShow\" @close=\"isShow=false\" :isLocal=\"true\"></search>\r\n    </view>\r\n</template>\r\n\r\n<script>\r\n\timport {mapActions,mapState} from \"vuex\"\r\n    export default {\r\n        name: \"search\",\r\n        data(){\r\n            return {\r\n                isShow:false,\r\n            }\r\n        },\r\n\t\tonLoad(opts) {\r\n\t\t\tthis.keyWords=opts.keywords?decodeURIComponent(opts.keywords):\"\"\r\n\t\t\t// console.log(opts)\r\n\t\t\t// 当前页\r\n\t\t\tthis.curPage=1; \r\n\t\t\t//最大页码\r\n\t\t\tthis.pageNum=0;\r\n\t\t\t// console.log(this.shopSearch.length)\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tuni.getLocation({\r\n\t\t\t\ttype: 'gcj02',\r\n\t\t\t\tsuccess:  (res)=> {\r\n\t\t\t\t\tthis.lng=res.longitude\r\n\t\t\t\t\tthis.lat=res.latitude\r\n\t\t\t\t\tthis.getSearchShop({page:1,kwords:this.keyWords,lng:this.lng,lat:this.lat,success:(res)=>{\r\n\t\t\t\t\t\tthis.pageNum=res\r\n\t\t\t\t\t}})\r\n\t\t\t\t},fail:(ex)=> {\r\n\t\t\t\t\tconsole.log(ex)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t...mapActions({\r\n\t\t\t\tgetSearchShop:\"search/getSearchShop\",//搜索菜品结果\r\n\t\t\t\tgetSearchShopReach:\"search/getSearchShopReach\"//搜索菜品结果上拉加载\t\r\n\t\t\t}),\r\n\t\t\tgoPage(url){\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tback(){\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta:1\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReachBottom() {\r\n\t\t\t// console.log(this.pageNum)\r\n\t\t\tif(this.curPage<this.pageNum){\r\n\t\t\t\tthis.curPage++\r\n\t\t\t\tthis.getSearchShopReach({page:this.curPage,kwords:this.keyWords,lng:this.lng,lat:this.lat})\r\n\t\t\t}else{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\ttitle:\"刷不动啦！已经到底儿啦\"\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\t...mapState({\r\n\t\t\t\tshopSearch:state=>state.search.shopSearch //搜索菜品结果\r\n\t\t\t})\r\n\t\t}\r\n    \r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .page{width:100%;background-color:#FFFFFF;overflow:hidden;}\r\n    .status_bar.bg-color{background-color:darkred;}\r\n    .nav{width:100%;height:88rpx;background-color:darkred;position: fixed;z-index:91;left:0;top:0;display: flex;justify-content: space-between;align-items: center;}\r\n    .nav .back{width:40rpx;height:40rpx;background-image:url(\"~@/static/images/common/back.png\");background-size:100%;background-repeat: no-repeat;background-position: center;}\r\n    .nav .title{position: absolute;z-index:1;left:50%;top:50%;transform: translate(-50%,-50%);color:#FFFFFF;font-size:28rpx;}\r\n    .header{width:100%;background-color:darkred;overflow:hidden;position: fixed;left:0;top:88rpx;z-index:90;}\r\n    .search-header{width:100%;height:auto;display: flex;justify-content: center;align-items: flex-end;margin-top:88rpx;box-sizing: border-box;padding-bottom:20rpx;}\r\n    .header .search-wrap{width:80%;height:52rpx;background-color:rgba(255,255,255,0.9);border-radius: 5px;display:flex;justify-content: start;align-items: center;}\r\n    .header .search-wrap .icon{width:44rpx;height:44rpx;background-image:url(\"~@/static/images/main/search_icon.png\");background-size:100%;background-repeat: no-repeat;background-position: center;margin:0 20rpx;}\r\n    .header .search-wrap .search{font-size:28rpx;color:#999999;}\r\n\r\n    .main{width:100%;margin:0 auto;margin-top:280rpx;overflow:hidden;}\r\n    .goods-wrap{width:100%;overflow:hidden;margin-bottom:40rpx;border-bottom: 1px solid #EFEFEF;box-sizing: border-box;padding-left:50rpx;padding-right:50rpx;padding-bottom:50rpx;}\r\n    .shop{width:100%;height:36rpx;display: flex;justify-content: space-between;align-items: center;overflow:hidden;}\r\n    .shop .shop-name{font-size:36rpx;font-weight: bold;width:80%;height:54rpx;overflow:hidden;white-space: nowrap;text-overflow: ellipsis;}\r\n    .shop .distance{font-size:24rpx;color:#666666;}\r\n    .goods-list{width:100%;height:auto;display:flex;justify-content: space-between;margin-top:20rpx;}\r\n    .goods-list .image{width:180rpx;height:180rpx;border-radius: 6px;}\r\n    .goods-list .image image{width:100%;height:100%;border-radius: 6px;}\r\n    .goods-list .goods-info{width:62%;height:auto;margin-right:20rpx;}\r\n    .goods-list .goods-title{width:100%;height:80rpx;overflow:hidden;font-size:28rpx;color:#333333;font-weight: bold;}\r\n    .goods-list .sales{font-size:24rpx;color:#999999;margin-top:10rpx;}\r\n    .goods-list .price{font-size:28rpx;color:#fb4e44;font-weight: bold;}\r\n    .goods-list .price-wrap{width:100%;margin-top:10rpx;display:flex;justify-content: space-between;}\r\n\r\n    /*#ifdef MP-WEIXIN*/\r\n    .nav.wechat{padding-top:70rpx;}\r\n    .nav.wechat.ipx{padding-top:90rpx;}\r\n    .nav.wechat .title{top:65%}\r\n    .nav.wechat.ipx .title{top:75%}\r\n    .header.ipx{top:170rpx;}\r\n    .main.ipx{margin-top:330rpx;}\r\n    /*#endif*/\r\n</style>\r\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=482e85b8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=482e85b8&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1712841518379\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}